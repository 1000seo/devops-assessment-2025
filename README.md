# a. 클라우드 아키텍처 다이어그램
</br></br>

# b. 기술 선택 및 설계 근거
**왜 이러한 아키텍처를 설계했는가?**
1. **비즈니스 로직 고려**
    - S3 버킷의 Presigned URL을 발급하여 사용자(Client)가 이미지를 S3에 업로드하는 아키텍처로 설계
      - [**보안 강화**] 서버가 파일을 중계하지 않음 → 잠재적인 공격의 노출을 막을 수 있으며, S3 접근 권한을 제어 하여 업로드된 파일의 민감정보를 보호할 수 있다.
      - [**성능 향상**] 서버가 파일을 중계하지 않음 → 애플리케이션 서버의 네트워크 트래픽과 메모리 사용량을 줄여 애플리케이션 성능 및 업로드 속도를 향상시킬 수 있다.
    - SQS를 활용하여 운영 안정성을 확보하는 아키텍처로 설계
      - [**신뢰도 있는 비동기 처리**] 컨슈머(이미지 처리) 장애/배포 중에도 메시지는 큐에 남아, 처리 유실(서비스 장애) 발생의 확률을 감소시킨다.
      - [**운영 및 장애 대응 편의**] 큐 모니터링 지표는 운영 및 장애 분석에 활용될 수 있다.
    </br> 
2. **트래픽 패턴 고려**
   - 평소에는 요청이 적지만 월말에 급격히 증가하므로 Auto Scaling이 가능한 ECS를 사용하여 비용 효율성과 확장성을 확보했다. </br>

</br>

**특정 AWS 서비스를 선택한 이유?**

- **API Gateway**
  - S3를 외부에 직접 노출하지 않기 위해 API를 진입점으로 두었으며, 인증/인가·Rate Limit·로깅을 기본 제공해 보안과 운영 부담을 동시에 줄일 수 있다고 판단
- **ECS fargate**
  - 컨테이너 오케스트레이션은 필요하지만, EKS는 운영 오버헤드가 크다고 판단하여 제외하였고, 서버 운영 없이 Auto Scaling + Blue/Green 배포를 쉽게 적용 가능하여 선택
- **Aurora(PostgreSQL)**
  - Multi-AZ, 자동 백업/Failover가 기본 제공되어 직접 DB 클러스터를 운영하는 것보다 가용성과 장애 대응 측면에서 적합 
- **SQS**
  -  쉽게 구성 가능하고 운영 관리 부담이 낮은 AWS 관리형 큐가 적합하다고 판단하여 선택
- **Secret manager, parameter store**
  - 비용 효율을 고려하려 민감 정보는 보안이 강한 Secrets Manager, 일반 설정값은 비용 효율이 높은 Parameter Store 활용 
- **ECR**
  - ECS와 IAM 기반 권한 연동이 자연스럽고, 컨테이너 이미지 저장과 배포 안정성이 확보됨
    
</br>

**주어진 요구사항(고가용성, Auto-scaling, 비용 효율성)을 어떻게 충족시켰는가?**
- **고가용성**
  - Multi-AZ로 인프라 구성하여 단일 AZ 장애에도 서비스 지속 가능
  - Aurora Multi-AZ를 활용해 DB 장애 자동 Failover 및 데이터 안정성 확보
  - ALB + ECS Service 기반으로 단일 Task 장애가 전체 서비스에 영향 주지 않도록 분리 </br>
- **Auto-Scaling**
  - ECS(Fargate) + Auto Scaling으로 트래픽 변화에 따른 Task 수 자동 조절
  - 월말 트래픽 상승이 예측되는 구간에 대해서는 Scheduled Scaling을 적용하여, 부하 발생 이전에 안정적 리소스 확보</br>
- **비용 효율성**
  - Fargate 사용으로 서버 유지 비용 없이 Task 실행 시간만 과금 → 트래픽 적은 구간에서 비용 최소화
  - Secrets Manager + Parameter Store 분리 사용으로 민감 데이터는 보안 우선, 일반 설정은 비용 최적화 전략으로 저장

</br> </br>
# c. 운영 자동화 및 장애 대응 계획
**모니터링 전략**


**무중단 배포 전략**


**장애 대응 시나리오**




